!function(e){var t=function(e){return new t.prototype.init(e)};return t.prototype={constructor:t,setOption:function(e){this.option=e},cacheProperty:"jstemplate",getEngine:function(){return e.Handlebars?"Handlebars":e.doT?"doT":e.jQuery&&e.jQuery.tmpl?"jQuery.tmpl":null},tmplToHtml:function(t,o){var r=this.engine,n="";switch(r){case"Handlebars":n=e.Handlebars.compile(t)(o);break;case"doT":n=e.doT.template(t,void 0,o);break;case"jQuery.tmpl":n=e.jQuery.tmpl(t,o);break;default:n=e.Handlebars.compile(t)(o)}return n},getTmplLoader:function(){return e.jQuery?"jQuery":e.fetch?"fetch":null},init:function(e){e&&this.setOption(e);var t=this.getEngine();if(!t)return void console.log("jTemplateLoader need templateEngine");var o=this.getTmplLoader();return o?(this.loader=o,void(this.engine=t)):void console.log("jTemplateLoader need AJAX loader")},cacheTmpl:function(t,o){var r=this.cacheProperty;e[r]||(e[r]={});var n=e[r];n[t]=o},loaderTmpl:function(t,o,r){var n=this,a=this.loader;"jQuery"==a&&e.jQuery.get(t,function(e,a,i){n.cacheTmpl(t,e),o.call(n,n.tmplToHtml(e,r))},"text")},html:function(t,o,r){var n=this,a=this.cacheProperty;return e[a]&&e[a][t]?r.call(n,n.tmplToHtml(e[a][t],o)):void n.loaderTmpl(t,r,o)}},t.prototype.init.prototype=t.prototype,"object"!=typeof e.jTemplateLoader&&(e.jTemplateLoader=t()),e.jTemplateLoader}("undefined"!=typeof window?window:this);